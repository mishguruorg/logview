{"ast":null,"code":"var _jsxFileName = \"/home/admin/src/github.com/mishguruorg/services/logview/packages/web/components/list.tsx\";\nimport React from \"react\";\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Date from './date';\nexport const searchLogsQuery = gql`\n  query {\n    searchLogs(input: { last: 20, afterDate: \"2019-08-11T00:00:00.000Z\" }) {\n      results {\n        id\n        userId\n        sentFrom\n        type\n        sentAt\n      }\n    }\n  }\n`;\nexport default function PostList() {\n  return React.createElement(Query, {\n    query: searchLogsQuery,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, ({\n    loading,\n    error,\n    data\n  }) => {\n    if (error) {\n      console.error(error);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"Error loading posts.\");\n    }\n\n    if (loading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, \"Loading\");\n    }\n\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, data.searchLogs.results.reverse().map(log => React.createElement(\"tr\", {\n      key: log.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, log.userId), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, log.sentFrom), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, log.type), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Date, {\n      value: log.sentAt,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    })))))));\n  });\n}","map":{"version":3,"sources":["/home/admin/src/github.com/mishguruorg/services/logview/packages/web/components/list.tsx"],"names":["Query","gql","Date","searchLogsQuery","PostList","loading","error","data","console","searchLogs","results","reverse","map","log","id","userId","sentFrom","type","sentAt"],"mappings":";;AAAA,SAASA,KAAT,QAAsB,cAAtB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,OAAO,MAAMC,eAAe,GAAGF,GAAI;;;;;;;;;;;;CAA5B;AAcP,eAAe,SAASG,QAAT,GAAqB;AAClC,SACE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAED,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAAEE,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,GAAD,KAA8B;AAC7B,QAAID,KAAJ,EAAW;AACTE,MAAAA,OAAO,CAACF,KAAR,CAAcA,KAAd;AACA,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAP;AACD;;AAED,QAAID,OAAJ,EAAa;AACX,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAP;AACD;;AAED,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,IAAI,CAACE,UAAL,CAAgBC,OAAhB,CAAwBC,OAAxB,GAAkCC,GAAlC,CAAuCC,GAAD,IACrC;AAAI,MAAA,GAAG,EAAEA,GAAG,CAACC,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,GAAG,CAACE,MAAT,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,GAAG,CAACG,QAAT,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,GAAG,CAACI,IAAT,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEJ,GAAG,CAACK,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,CAJF,CADD,CADH,CADF,CADF,CADF;AAgBD,GA3BH,CADF;AA+BD","sourcesContent":["import { Query } from 'react-apollo'\nimport gql from 'graphql-tag'\n\nimport Date from './date'\n\nexport const searchLogsQuery = gql`\n  query {\n    searchLogs(input: { last: 20, afterDate: \"2019-08-11T00:00:00.000Z\" }) {\n      results {\n        id\n        userId\n        sentFrom\n        type\n        sentAt\n      }\n    }\n  }\n`\n\nexport default function PostList () {\n  return (\n    <Query query={searchLogsQuery}>\n      {({ loading, error, data }) => {\n        if (error) {\n          console.error(error)\n          return <div>Error loading posts.</div>\n        }\n\n        if (loading) {\n          return <div>Loading</div>\n        }\n\n        return (\n          <section>\n            <table>\n              <tbody>\n                {data.searchLogs.results.reverse().map((log) => (\n                  <tr key={log.id}>\n                    <td>{log.userId}</td>\n                    <td>{log.sentFrom}</td>\n                    <td>{log.type}</td>\n                    <td><Date value={log.sentAt} /></td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </section>\n        )\n      }}\n    </Query>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}